<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<script>

// Data una stringa, ad esempio PAYPALISHIRING, scrivere una funzione che la ritorna a "ZigZag":
// La funzione accetta in ingresso la stringa e un numero di righe, in questo caso e' stata invocata così: converti("PAYPALISHIRING", 3)

// Perchè questo non funziona
// if(j == 1) j++
// if(j == n) j--

function zigzag(str, n) {
    if(n >= str.length) return console.log(str)
    let map = new Map(), stamp = ''
    for(let i = 0, j = 1, count; i < str.length; i++, j += count) {
        map.set(i + '.' + (j), str[i])
        if(j == 1) count = +1
        if(j == n) count = -1
    }
    console.log(map)
    for(let i = 1; i <= n; i++) {
        map.forEach(function (v, k) {
            if(k[k.length-1] == i) stamp += v
        })
    }
    console.log(stamp)
}
// zigzag('paypalishiring', 3)

function zigZag(str, n) {
    if(n >= str.length) return console.log(str)
    let map = new Map(), stamp = ''
    for(let i = 0, j = 1, count; i < str.length; i++, j += count) {
        if(!map.has(j)) map.set(j, str[i])
        else map.set(j, map.get(j)+str[i])
        if(j == 1) count = +1
        if(j == n) count = -1
    }
    map.forEach(function(v) { stamp += v })
    console.log(stamp)
}
zigZag('paypalishiring', 4)

</script>

</body>
</html>